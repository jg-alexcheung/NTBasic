(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[116],{6323:(e,t,n)=>{"use strict";let r,a,i;n.d(t,{Ay:()=>eb});let s={attributeStringValueLimit:1024,attributeArrayLengthLimit:1e3,attributeCountLimit:128},o={attributeStringValueLimit:1/0,attributeArrayLengthLimit:1/0,attributeCountLimit:1/0},u=e=>!0===e||!1===e,l=e=>!!e&&"object"==typeof e&&!Array.isArray(e),c=e=>"number"==typeof e&&Number.isFinite(e)&&!Number.isNaN(e),d=e=>"string"==typeof e,f=e=>d(e)&&e.length>0,h=e=>Array.isArray(e)&&e.every(f),g=e=>l(e)&&"string"==typeof e.id&&"string"==typeof e.traceId&&"function"==typeof e.isValid,p=e=>l(e)&&"string"==typeof e.id&&"string"==typeof e.traceId;class m{get droppedAttributesCount(){return this._droppedAttributesCount}constructor(e,t,n,r){this._droppedAttributesCount=0,this.attributes=e,this.spanAttributeLimits=t,this.spanName=n,this.logger=r}validateAttribute(e,t){if("string"==typeof t&&t.length>this.spanAttributeLimits.attributeStringValueLimit&&(this.attributes.set(e,function(e,t){let n=e.length,r=e.slice(0,t),a=r.length;return`${r} *** ${n-a} CHARS TRUNCATED`}(t,this.spanAttributeLimits.attributeStringValueLimit)),this.logger.warn(`Span attribute ${e} in span ${this.spanName} was truncated as the string exceeds the ${this.spanAttributeLimits.attributeStringValueLimit} character limit set by attributeStringValueLimit.`)),Array.isArray(t)&&t.length>this.spanAttributeLimits.attributeArrayLengthLimit){let n=t.slice(0,this.spanAttributeLimits.attributeArrayLengthLimit);this.attributes.set(e,n),this.logger.warn(`Span attribute ${e} in span ${this.spanName} was truncated as the array exceeds the ${this.spanAttributeLimits.attributeArrayLengthLimit} element limit set by attributeArrayLengthLimit.`)}}set(e,t){"string"==typeof e&&("string"==typeof t||"boolean"==typeof t||c(t)||Array.isArray(t))&&this.attributes.set(e,t)}setCustom(e,t){if("string"==typeof e&&("string"==typeof t||"boolean"==typeof t||c(t)||Array.isArray(t))){if(!this.attributes.has(e)&&this.attributes.size>=this.spanAttributeLimits.attributeCountLimit){this._droppedAttributesCount++,this.logger.warn(`Span attribute ${e} in span ${this.spanName} was dropped as the number of attributes exceeds the ${this.spanAttributeLimits.attributeCountLimit} attribute limit set by attributeCountLimit.`);return}if(e.length>128){this._droppedAttributesCount++,this.logger.warn(`Span attribute ${e} in span ${this.spanName} was dropped as the key length exceeds the 128 character fixed limit.`);return}this.attributes.set(e,t)}}remove(e){this.attributes.delete(e)}toJson(){return Array.from(this.attributes).forEach(([e,t])=>{this.validateAttribute(e,t)}),Array.from(this.attributes).map(([e,t])=>(function(e,t){switch(typeof t){case"number":if(Number.isNaN(t)||!Number.isFinite(t))return;if("bugsnag.sampling.p"!==e&&Number.isInteger(t))return{key:e,value:{intValue:`${t}`}};return{key:e,value:{doubleValue:t}};case"boolean":return{key:e,value:{boolValue:t}};case"string":return{key:e,value:{stringValue:t}};case"object":if(Array.isArray(t)){let n=t.map(e=>(function(e){switch(typeof e){case"number":if(Number.isNaN(e)||!Number.isFinite(e))return;if(Number.isInteger(e))return{intValue:`${e}`};return{doubleValue:e};case"boolean":return{boolValue:e};case"string":return{stringValue:e}}})(e)).filter(e=>void 0!==e);return{key:e,value:{arrayValue:n.length>0?{values:n}:{}}}}return;default:return}})(e,t))}}class b extends m{constructor(e,t,n,r,a,i){let s=new Map([["deployment.environment",e],["telemetry.sdk.name",r],["telemetry.sdk.version",a],["service.name",n]]);t.length>0&&s.set("service.version",t),super(s,o,"resource-attributes",i)}}function y(e){return Math.round(1e6*e)}let v={appVersion:{defaultValue:"",message:"should be a string",validate:f},endpoint:{defaultValue:"https://otlp.bugsnag.com/v1/traces",message:"should be a string",validate:f},apiKey:{defaultValue:"",message:"should be a 32 character hexadecimal string",validate:e=>d(e)&&/^[a-f0-9]{32}$/.test(e)},logger:{defaultValue:{debug(e){console.debug(e)},info(e){console.info(e)},warn(e){console.warn(e)},error(e){console.error(e)}},message:"should be a Logger object",validate:e=>l(e)&&"function"==typeof e.debug&&"function"==typeof e.info&&"function"==typeof e.warn&&"function"==typeof e.error},releaseStage:{defaultValue:"production",message:"should be a string",validate:f},enabledReleaseStages:{defaultValue:null,message:"should be an array of strings",validate:e=>null===e||h(e)},plugins:{defaultValue:[],message:"should be an array of plugin objects",validate:function(e){return Array.isArray(e)&&e.every(e=>l(e)&&"function"==typeof e.configure)}},bugsnag:{defaultValue:void 0,message:"should be an instance of Bugsnag",validate:e=>l(e)&&"function"==typeof e.addOnError},samplingProbability:{defaultValue:void 0,message:"should be a number between 0 and 1",validate:e=>void 0===e||c(e)&&e>=0&&e<=1},onSpanEnd:{defaultValue:void 0,message:"should be an array of functions",validate:function(e){return Array.isArray(e)&&e.every(e=>"function"==typeof e)}},attributeStringValueLimit:{defaultValue:1024,message:"should be a number between 1 and 10000",validate:e=>c(e)&&e>0&&e<=1e4},attributeArrayLengthLimit:{defaultValue:1e3,message:"should be a number between 1 and 10000",validate:e=>c(e)&&e>0&&e<=1e4},attributeCountLimit:{defaultValue:128,message:"should be a number between 1 and 1000",validate:e=>c(e)&&e>0&&e<=1e3}};class S{constructor(){this.events=[]}add(e,t){this.events.push({name:e,time:t})}toJson(e){return this.events.map(({name:t,time:n})=>({name:t,timeUnixNano:e.toUnixTimestampNanoseconds(n)}))}}function w(e){let t=0;for(let n=0;n<e.length/8;n++){let r=8*n;t=(t^Number.parseInt(e.slice(r,r+8),16))>>>0}return t}class _{constructor(e,t,n,r,a,i,s){this.kind=3,this.events=new S,this.id=e,this.traceId=t,this.parentSpanId=s,this.name=n,this.startTime=r,this.attributes=a,this.samplingRate=w(this.traceId),this.clock=i}addEvent(e,t){this.events.add(e,t)}setAttribute(e,t){this.attributes.set(e,t)}setCustomAttribute(e,t){this.attributes.setCustom(e,t)}end(e,t){this.endTime=e;let n=t;return this.attributes.set("bugsnag.sampling.p",n.raw),{id:this.id,name:this.name,kind:this.kind,traceId:this.traceId,startTime:this.startTime,attributes:this.attributes,events:this.events,samplingRate:this.samplingRate,endTime:e,get samplingProbability(){return n},set samplingProbability(samplingProbability){n=samplingProbability,this.attributes.set("bugsnag.sampling.p",n.raw)},parentSpanId:this.parentSpanId}}isValid(){return void 0===this.endTime&&this.startTime>this.clock.now()-36e5}}let E={startTime:{message:"should be a number or Date",getDefaultValue:()=>void 0,validate:function(e){return c(e)||e instanceof Date}},parentContext:{message:"should be a SpanContext",getDefaultValue:()=>void 0,validate:e=>null===e||g(e)},makeCurrentContext:{message:"should be true|false",getDefaultValue:()=>void 0,validate:u},isFirstClass:{message:"should be true|false",getDefaultValue:()=>void 0,validate:u}};class k{constructor(e,t,n,r,a,i){this.spans=[],this.timeout=null,this.flushQueue=Promise.resolve(),this.delivery=e,this.configuration=t,this.retryQueue=n,this.sampler=r,this.probabilityManager=a,this.encoder=i,this.flush=this.flush.bind(this)}stop(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}start(){this.stop(),this.timeout=setTimeout(this.flush,this.configuration.batchInactivityTimeoutMs)}add(e){(!this.configuration.enabledReleaseStages||this.configuration.enabledReleaseStages.includes(this.configuration.releaseStage))&&(this.spans.push(e),this.spans.length>=this.configuration.maximumBatchSize?this.flush():this.start())}async flush(){this.stop(),this.flushQueue=this.flushQueue.then(async()=>{let e=await this.prepareBatch();if(!e)return;let t=await this.encoder.encode(e),n=Date.now();try{let e=await this.delivery.send(t);switch(void 0!==e.samplingProbability&&this.probabilityManager.setProbability(e.samplingProbability),e.state){case"success":this.retryQueue.flush();break;case"failure-discard":this.configuration.logger.warn("delivery failed");break;case"failure-retryable":this.configuration.logger.info("delivery failed, adding to retry queue"),this.retryQueue.add(t,n);break;default:e.state}}catch(e){this.configuration.logger.warn("delivery failed")}}),await this.flushQueue}async runCallbacks(e){if(!this.configuration.onSpanEnd)return!0;{let t=performance.now(),n=!0;for(let t of this.configuration.onSpanEnd)try{let r=t(e);if("function"==typeof r.then&&(r=await r),!1===r){n=!1;break}}catch(e){this.configuration.logger.error("Error in onSpanEnd callback: "+e)}if(n){let n=y(performance.now()-t);e.setAttribute("bugsnag.span.callbacks_duration",n)}return n}}async prepareBatch(){if(0===this.spans.length)return;await this.probabilityManager.ensureFreshProbability();let e=[],t=this.sampler.spanProbability;for(let n of this.spans)n.samplingProbability.raw>t.raw&&(n.samplingProbability=t),this.sampler.sample(n)&&await this.runCallbacks(function(e){return{get id(){return e.id},get traceId(){return e.traceId},get samplingRate(){return e.samplingRate},get name(){return e.name},isValid:()=>!1,end:()=>{},setAttribute:(t,n)=>{e.attributes.setCustom(t,n)}}}(n))&&e.push(n);if(this.spans=[],0!==e.length)return e}}class C{constructor(e,t,n){this.clock=e,this.configuration=t,this.resourceAttributeSource=n}async encode(e){let t=await this.resourceAttributeSource(this.configuration),n=Array(e.length);for(let t=0;t<e.length;++t){var r,a;n[t]=(r=e[t],a=this.clock,{name:r.name,kind:r.kind,spanId:r.id,traceId:r.traceId,parentSpanId:r.parentSpanId,...r.attributes.droppedAttributesCount>0?{droppedAttributesCount:r.attributes.droppedAttributesCount}:{},startTimeUnixNano:a.toUnixTimestampNanoseconds(r.startTime),endTimeUnixNano:a.toUnixTimestampNanoseconds(r.endTime),attributes:r.attributes.toJson(),events:r.events.toJson(a)})}return{body:{resourceSpans:[{resource:{attributes:t.toJson()},scopeSpans:[{spans:n}]}]},headers:{"Bugsnag-Api-Key":this.configuration.apiKey,"Content-Type":"application/json",...void 0!==this.configuration.samplingProbability?{}:{"Bugsnag-Span-Sampling":this.generateSamplingHeader(e)}}}}generateSamplingHeader(e){if(0===e.length)return"1:0";let t=Object.create(null);for(let n of e){let e=t[n.samplingProbability.raw]||0;t[n.samplingProbability.raw]=e+1}let n=Object.keys(t),r=Array(n.length);for(let e=0;e<n.length;++e){let a=n[e];r[e]=`${a}:${t[a]}`}return r.join(";")}}let x=new Set([402,407,408,429]);class A{static async create(e,t){return e.probability=t,new A(e,t)}constructor(e,t){this.sampler=e,this.samplingProbability=t}setProbability(e){return Promise.resolve()}ensureFreshProbability(){return Promise.resolve()}}class T{constructor(e,t){this.delivery=e,this.payload={body:{resourceSpans:[]},headers:{"Bugsnag-Api-Key":t,"Content-Type":"application/json","Bugsnag-Span-Sampling":"1.0:0"}}}async getNewProbability(){for(;;){let e=await this.delivery.send(this.payload);if(void 0!==e.samplingProbability)return e.samplingProbability;await this.timeBetweenRetries()}}timeBetweenRetries(){return new Promise(e=>{setTimeout(e,3e4)})}}class R{static async create(e,t,n){let r;let a=await e.load("bugsnag-sampling-probability");return void 0===a?(t.probability=1,r=0):(a.time,Date.now(),t.probability=a.value,r=a.time),new R(e,t,n,r)}constructor(e,t,n,r){this.outstandingFreshnessCheck=void 0,this.persistence=e,this.sampler=t,this.probabilityFetcher=n,this.lastProbabilityTime=r,this.ensureFreshProbability()}setProbability(e){return this.lastProbabilityTime=Date.now(),this.sampler.probability=e,this.persistence.save("bugsnag-sampling-probability",{value:e,time:this.lastProbabilityTime})}ensureFreshProbability(){return this.outstandingFreshnessCheck?this.outstandingFreshnessCheck:Date.now()-this.lastProbabilityTime>=864e5?(this.outstandingFreshnessCheck=this.probabilityFetcher.getNewProbability().then(e=>{this.setProbability(e),this.outstandingFreshnessCheck=void 0}),this.outstandingFreshnessCheck):Promise.resolve()}}class O{constructor(){this.spans=[]}add(e){this.spans.push(e)}}function L(e){return Math.floor(0xffffffff*e)}class P{constructor(e){this._probability=e,this.scaledProbability=L(e)}get probability(){return this._probability}set probability(e){this._probability=e,this.scaledProbability=L(e)}get spanProbability(){return{raw:this._probability,scaled:this.scaledProbability}}sample(e){return e.samplingRate<=e.samplingProbability.scaled}shouldSample(e){return e<=this.spanProbability.scaled}}class I{constructor(e,t=[]){this.isInForeground=!0,this.onBackgroundStateChange=e=>{this.isInForeground="in-foreground"===e,this.contextStack.length=0},this.contextStack=t,e.onStateChange(this.onBackgroundStateChange)}*[Symbol.iterator](){for(let e=this.contextStack.length-1;e>=0;--e)yield this.contextStack[e]}push(e){e.isValid()&&this.isInForeground&&this.contextStack.push(e)}pop(e){var t;(e===(t=this.current)||void 0!==e&&void 0!==t&&e.id===t.id&&e.traceId===t.traceId)&&this.contextStack.pop(),this.removeClosedContexts()}get first(){return this.removeClosedContexts(),this.contextStack.length>0?this.contextStack[0]:void 0}get current(){return this.removeClosedContexts(),this.contextStack.length>0?this.contextStack[this.contextStack.length-1]:void 0}removeClosedContexts(){for(;this.contextStack.length>0&&!1===this.contextStack[this.contextStack.length-1].isValid();)this.contextStack.pop()}}function N(e,t){return c(t)?t:t instanceof Date?e.convert(t):e.now()}class j{constructor(e,t,n,r,a,i,o,u){this.spanAttributeLimits=s,this.openSpans=new WeakSet,this.isInForeground=!0,this.onBackgroundStateChange=e=>{this.isInForeground="in-foreground"===e,this.openSpans=new WeakSet},this.processor=e,this.sampler=t,this.idGenerator=n,this.spanAttributesSource=r,this.clock=a,this.logger=o,this.spanContextStorage=u,i.onStateChange(this.onBackgroundStateChange)}startSpan(e,t){let n=N(this.clock,t.startTime),r=this.idGenerator.generate(64),a=p(t.parentContext)||null===t.parentContext?t.parentContext:this.spanContextStorage.current,i=a?a.id:void 0,s=a?a.traceId:this.idGenerator.generate(128),o=new m(new Map,this.spanAttributeLimits,e,this.logger);"boolean"==typeof t.isFirstClass&&o.set("bugsnag.span.first_class",t.isFirstClass);let u=new _(r,s,e,n,o,this.clock,i);return this.isInForeground&&(this.openSpans.add(u),!1!==t.makeCurrentContext&&this.spanContextStorage.push(u)),u}startNetworkSpan(e){let t=`[HTTP/${e.method.toUpperCase()}]`,n=this.validateSpanOptions(t,e),r=this.startSpan(n.name,{...n.options,makeCurrentContext:!1});return r.setAttribute("bugsnag.span.category","network"),r.setAttribute("http.method",e.method),r.setAttribute("http.url",e.url),r}configure(e,t){this.processor=e,this.logger=t.logger,this.spanAttributeLimits={attributeArrayLengthLimit:t.attributeArrayLengthLimit,attributeCountLimit:t.attributeCountLimit,attributeStringValueLimit:t.attributeStringValueLimit}}endSpan(e,t,n){this.spanContextStorage.pop(e);let r=!this.openSpans.delete(e),a=e.isValid();if(r&&!a&&this.logger.warn("Attempted to end a Span which is no longer valid."),r||!a||-1===t){e.end(t,this.sampler.spanProbability);return}for(let[t,r]of Object.entries(n||{}))e.setAttribute(t,r);this.spanAttributesSource.requestAttributes(e);let i=e.end(t,this.sampler.spanProbability);this.sampler.sample(i)&&this.processor.add(i)}toPublicApi(e){return{get id(){return e.id},get traceId(){return e.traceId},get samplingRate(){return e.samplingRate},get name(){return e.name},isValid:()=>e.isValid(),setAttribute:(t,n)=>{e.setCustomAttribute(t,n)},end:t=>{let n=N(this.clock,t);this.endSpan(e,n)}}}validateSpanOptions(e,t,n=E){let r="",a={};if("string"!=typeof e&&(r+=`
  - name should be a string, got ${typeof e}`,e=String(e)),void 0===t||l(t)){let e=t||{};for(let t of Object.keys(n))Object.prototype.hasOwnProperty.call(e,t)&&void 0!==e[t]?n[t].validate(e[t])?a[t]=e[t]:(r+=`
  - ${t} ${n[t].message}, got ${typeof e[t]}`,a[t]=n[t].getDefaultValue(e[t])):a[t]=n[t].getDefaultValue(e[t])}else r+="\n  - options is not an object";return r.length>0&&this.logger.warn(`Invalid span options${r}`),{name:e,options:a}}}var q,V,B=n(19755);let{isCuid:F}=B;class M{constructor(){this.persistedItems=new Map}async load(e){return this.persistedItems.get(e)}async save(e,t){this.persistedItems.set(e,t)}}class D{constructor(e,t){this.delivery=e,this.retryQueueMaxSize=t,this.requestQueue=Promise.resolve(),this.payloads=[]}add(e,t){this.payloads.push({payload:e,time:t});let n=this.payloads.reduce((e,{payload:t})=>e+$(t),0);for(;n>this.retryQueueMaxSize;){let e=this.payloads.shift();if(!e)break;n-=$(e.payload)}}async flush(){if(0===this.payloads.length)return;let e=this.payloads;this.payloads=[],this.requestQueue=this.requestQueue.then(async()=>{for(let{payload:t,time:n}of e)if(!(Date.now()>=n+864e5))try{let{state:e}=await this.delivery.send(t);switch(e){case"success":case"failure-discard":break;case"failure-retryable":this.add(t,n)}}catch(e){}}),await this.requestQueue}}function $(e){let t=0;for(let n=0;n<e.body.resourceSpans.length;++n){let r=e.body.resourceSpans[n].scopeSpans;for(let e=0;e<r.length;++e)t+=r[e].spans.length}return t}class U{constructor(){this.callbacks=[]}onStart(e){this.callbacks.push(e)}start(e){let t=[];for(let n of this.callbacks){let r=n(e);r&&t.push(r)}return{onRequestEnd:e=>{for(let n of t)n&&n.onRequestEnd&&n.onRequestEnd(e)},extraRequestHeaders:t.map(e=>{if(e&&e.extraRequestHeaders)return e.extraRequestHeaders}).filter(H)}}}function H(e){return void 0!==e}function K(e,t){if(0===e.indexOf("https://")||0===e.indexOf("http://"))return e;try{let n=new URL(e,t).href;if(!e.endsWith("/")&&n.endsWith("/"))return n.slice(0,-1);return n}catch(t){return e}}function z(e){return!!e&&"object"==typeof e&&!(e instanceof URL)}let J={referrer:!0,title:!0,url:!0},X=(e,t,n,r)=>{function a(t,a,i){if(void 0===a||void 0===i||0===a&&0===i)return;let s=e.startSpan(`[PageLoadPhase/${t}]${n}`,{startTime:a,parentContext:r,makeCurrentContext:!1});s.setAttribute("bugsnag.span.category","page_load_phase"),s.setAttribute("bugsnag.phase",t),e.endSpan(s,i)}let i=t.getEntriesByType("navigation"),s=Array.isArray(i)&&i[0];if(s){a("Unload",s.unloadEventStart,s.unloadEventEnd),a("Redirect",s.redirectStart,s.redirectEnd),a("LoadFromCache",s.fetchStart,s.domainLookupStart),a("DNSLookup",s.domainLookupStart,s.domainLookupEnd);let e=s.secureConnectionStart||s.connectEnd;a("TCPHandshake",s.connectStart,e),a("TLS",s.secureConnectionStart,s.connectEnd),a("HTTPRequest",s.requestStart,s.responseStart),a("HTTPResponse",s.responseStart,s.responseEnd),a("DomContentLoadedEvent",s.domContentLoadedEventStart,s.domContentLoadedEventEnd),a("LoadEvent",s.loadEventStart,s.loadEventEnd)}},W=e=>e.pathname||"/";class Q{constructor(e,t,n,r,a,i,s){this.wasBackgrounded=!1,this.document=e,this.location=t,this.spanFactory=n,this.webVitals=r,this.onSettle=a,this.performance=s,i.onStateChange(e=>{this.wasBackgrounded||"in-background"!==e||(this.wasBackgrounded=!0)})}configure(e){var t;if(!e.autoInstrumentFullPageLoads||this.wasBackgrounded)return;let n=null,r=document.querySelector('meta[name="traceparent"]');if(null!==r&&r.getAttribute("content")){let[,e,t]=r.getAttribute("content").split("-");n={traceId:e,id:t}}let a=this.spanFactory.startSpan("[FullPageLoad]",{startTime:0,parentContext:n}),i=(t=e.sendPageAttributes,{...J,...t}),s=new URL(this.location.href);this.onSettle(t=>{if(this.wasBackgrounded)return;let n=e.routingProvider.resolveRoute(s)||W(s);a.name+=n,X(this.spanFactory,this.performance,n,a),a.setAttribute("bugsnag.span.category","full_page_load"),a.setAttribute("bugsnag.browser.page.route",n),i.referrer&&a.setAttribute("bugsnag.browser.page.referrer",this.document.referrer),i.title&&a.setAttribute("bugsnag.browser.page.title",this.document.title),i.url&&a.setAttribute("bugsnag.browser.page.url",s.toString()),this.webVitals.attachTo(a),this.spanFactory.endSpan(a,t)})}}function G(e){return e}let Y=["http://","https://","/","./","../"];class Z{constructor(e,t,n,r){this.spanFactory=e,this.spanContextStorage=t,this.fetchTracker=n,this.xhrTracker=r,this.configEndpoint="",this.networkRequestCallback=G,this.logger={debug:console.debug,warn:console.warn,info:console.info,error:console.error},this.trackRequest=e=>{if(!this.shouldTrackRequest(e))return;let t={url:e.url,type:e.type,propagateTraceContext:!1},n=this.networkRequestCallback(t);if(!n)return{onRequestEnd:void 0,extraRequestHeaders:void 0};if(void 0===n.propagateTraceContext&&(n.propagateTraceContext=!1),!n.url)return{onRequestEnd:void 0,extraRequestHeaders:n.propagateTraceContext?this.getExtraRequestHeaders():void 0};if("string"!=typeof n.url){this.logger.warn(`expected url to be a string following network request callback, got ${typeof n.url}`);return}let r=this.spanFactory.startNetworkSpan({method:e.method,startTime:e.startTime,url:n.url});return{onRequestEnd:e=>{"success"===e.state&&this.spanFactory.endSpan(r,e.endTime,{"http.status_code":e.status})},extraRequestHeaders:n.propagateTraceContext?this.getExtraRequestHeaders(r):void 0}}}configure(e){this.logger=e.logger,e.autoInstrumentNetworkRequests&&(this.configEndpoint=e.endpoint,this.xhrTracker.onStart(this.trackRequest),this.fetchTracker.onStart(this.trackRequest),this.networkRequestCallback=e.networkRequestCallback)}shouldTrackRequest(e){return e.url!==this.configEndpoint&&Y.some(t=>e.url.startsWith(t))}getExtraRequestHeaders(e){let t={};if(e){let n=e.traceId;t.traceparent=ee(n,e.id,this.spanFactory.sampler.shouldSample(e.samplingRate)),t.tracestate=et(n)}else if(this.spanContextStorage.current){let e=this.spanContextStorage.current,n=e.traceId;t.traceparent=ee(n,e.id,this.spanFactory.sampler.shouldSample(e.samplingRate)),t.tracestate=et(n)}return t}}function ee(e,t,n){return`00-${e}-${t}-${n?"01":"00"}`}function et(e){return`sb=v:1;r32:${w(e)}`}class en{constructor(e,t,n){this.spanFactory=e,this.spanContextStorage=t,this.PerformanceObserverClass=n}configure(e){var t;if(!((t=this.PerformanceObserverClass)&&Array.isArray(t.supportedEntryTypes)&&t.supportedEntryTypes.includes("resource")))return;let n=new this.PerformanceObserverClass(t=>{for(let n of t.getEntries()){if("fetch"===n.initiatorType||"xmlhttprequest"===n.initiatorType)continue;let t=this.spanContextStorage.first;if(t){let r=e.networkRequestCallback({url:n.name,type:n.initiatorType});if(!r)return;if("string"!=typeof r.url){e.logger.warn(`expected url to be a string following network request callback, got ${typeof r.url}`);return}let a="";try{let e=new URL(r.url);e.search="",a=e.href}catch(t){e.logger.warn(`Unable to parse URL returned from networkRequestCallback: ${r.url}`);return}let i=this.spanFactory.startSpan(`[ResourceLoad]${a}`,{parentContext:t,startTime:n.startTime,makeCurrentContext:!1});i.setAttribute("bugsnag.span.category","resource_load"),i.setAttribute("http.url",r.url);let s=function(e){switch(e){case"":return;case"http/1.0":return"1.0";case"http/1.1":return"1.1";case"h2":case"h2c":return"2.0";case"h3":return"3.0";case"spdy/1":case"spdy/2":case"spdy/3":return"SPDY";default:return e}}(n.nextHopProtocol);s&&i.setAttribute("http.flavor",s),n.encodedBodySize&&n.decodedBodySize&&(i.setAttribute("http.response_content_length",n.encodedBodySize),i.setAttribute("http.response_content_length_uncompressed",n.decodedBodySize)),n.responseStatus&&i.setAttribute("http.status_code",n.responseStatus),this.spanFactory.endSpan(i,n.responseEnd)}}});try{n.observe({type:"resource",buffered:!0})}catch(t){e.logger.warn("Unable to get previous resource loads as buffered observer not supported, only showing resource loads from this point on"),n.observe({entryTypes:["resource"]})}}}let{startTime:er,parentContext:ea,makeCurrentContext:ei}=E,es={startTime:er,parentContext:ea,makeCurrentContext:ei,trigger:{getDefaultValue:e=>String(e),message:"should be a string",validate:d}};class eo{constructor(e,t,n){this.spanFactory=e,this.location=t,this.document=n}configure(e){var t;if(!e.autoInstrumentRouteChanges)return;let n=new URL(this.location.href),r=e.routingProvider.resolveRoute(n)||W(n),a=(t=e.sendPageAttributes,{...J,...t});e.routingProvider.listenForRouteChanges((t,n,i)=>{let s;if(t instanceof URL)s=t;else try{let e=String(t);s=new URL(e)}catch(t){return e.logger.warn("Invalid span options\n  - url should be a URL"),{id:"",name:"",traceId:"",samplingRate:0,isValid:()=>!1,setAttribute:()=>{},end:()=>{}}}let o={...i,trigger:n},u=this.spanFactory.validateSpanOptions("[RouteChange]",o,es),c=e.routingProvider.resolveRoute(s)||W(s);u.name+=c;let d=this.spanFactory.startSpan(u.name,u.options);return d.setAttribute("bugsnag.span.category","route_change"),d.setAttribute("bugsnag.browser.page.route",c),d.setAttribute("bugsnag.browser.page.previous_route",r),d.setAttribute("bugsnag.browser.page.route_change.trigger",u.options.trigger),a.url&&d.setAttribute("bugsnag.browser.page.url",t.toString()),r=c,{get id(){return d.id},get traceId(){return d.traceId},get samplingRate(){return d.samplingRate},get name(){return d.name},isValid:d.isValid,setAttribute:d.setAttribute,end:t=>{let n=l(t)?t:{endTime:t};if(a.title&&d.setAttribute("bugsnag.browser.page.title",this.document.title),n.url){var i;let t="string"==typeof(i=n.url)?new URL(i):i,s=e.routingProvider.resolveRoute(t)||W(t);d.name=`[RouteChange]${s}`,d.setAttribute("bugsnag.browser.page.route",s),r=s,a.url&&d.setAttribute("bugsnag.browser.page.url",t.toString())}this.spanFactory.toPublicApi(d).end(n.endTime)}}})}}function eu(e,t){return Math.abs(Date.now()-(e+t.now()))>3e5?Date.now()-t.now():e}function el(e){let t=e.toString(16);return 1===t.length?"0"+t:t}class ec{constructor(e){this.settled=!1,this.callbacks=new Set,this.clock=e}subscribe(e){this.callbacks.add(e),this.isSettled()&&e(this.clock.now())}unsubscribe(e){this.callbacks.delete(e)}isSettled(){return this.settled}settle(e){for(let t of(this.settled=!0,this.callbacks))t(e)}}class ed extends ec{constructor(e,t){super(e),this.timeout=void 0,new MutationObserver(()=>{this.restart()}).observe(t,{subtree:!0,childList:!0,characterData:!0}),this.restart()}restart(){clearTimeout(this.timeout),this.settled=!1;let e=this.clock.now();this.timeout=setTimeout(()=>{this.settle(e)},100)}}class ef extends ec{constructor(e,t,n,r){super(e),"complete"===r.readyState?setTimeout(()=>{this.settleUsingPerformance(n)},0):t("load",()=>{setTimeout(()=>{this.settleUsingPerformance(n)},0)})}settleUsingPerformance(e){let t=this.clock.now(),n="function"==typeof e.getEntriesByType?e.getEntriesByType("navigation")[0]:void 0,r=0;n&&"navigation"===n.entryType?r=n.loadEventEnd:e.timing&&(r=e.timing.loadEventEnd-e.timing.navigationStart),(r<=0||r>t)&&(r=t),this.settle(r)}}class eh extends ec{constructor(e,t){super(e),this.timeout=void 0,this.urlsToIgnore=[],this.outstandingRequests=0,this.settled=!0,t.onStart(this.onRequestStart.bind(this))}setUrlsToIgnore(e){this.urlsToIgnore=e}onRequestStart(e){if(!this.shouldIgnoreUrl(e.url))return clearTimeout(this.timeout),this.settled=!1,++this.outstandingRequests,{onRequestEnd:e=>{if(0==--this.outstandingRequests){let e=this.clock.now();this.timeout=setTimeout(()=>{this.settle(e)},100)}}}}shouldIgnoreUrl(e){return this.urlsToIgnore.some(t=>t.test(e))}}class eg extends ec{constructor(e,t){for(let n of(super(e),this.settlers=t,t))n.subscribe(e=>{this.settlersAreSettled()?this.settle(e):this.settled=!1})}isSettled(){return super.isSettled()&&this.settlersAreSettled()}settlersAreSettled(){for(let e of this.settlers)if(!e.isSettled())return!1;return!0}}class ep{constructor(e){this.storage=e}async load(e){try{let t=this.storage.getItem(e);if(t)return function(e,t){switch(e){case"bugsnag-sampling-probability":{let e=JSON.parse(t);return l(e)&&c(e.value)&&c(e.time)?e:void 0}case"bugsnag-anonymous-id":return F(t)?t:void 0}}(e,t)}catch(e){}}async save(e,t){try{this.storage.setItem(e,function(e,t){switch(e){case"bugsnag-sampling-probability":return JSON.stringify(t);case"bugsnag-anonymous-id":return t;default:return e}}(e,t))}catch(e){}}}class em{constructor(e,t,n){if(this.performance=e,this.clock=t,this.observers=[],n&&Array.isArray(n.supportedEntryTypes)){let e=n.supportedEntryTypes;e.includes("largest-contentful-paint")&&this.observeLargestContentfulPaint(n),e.includes("layout-shift")&&this.observeLayoutShift(n)}}attachTo(e){let t=this.firstContentfulPaint();t&&e.addEvent("fcp",t);let n=this.timeToFirstByte();n&&e.addEvent("ttfb",n);let r=this.firstInputDelay();for(let t of(r&&(e.addEvent("fid_start",r.start),e.addEvent("fid_end",r.end)),this.cumulativeLayoutShift&&e.setAttribute("bugsnag.metrics.cls",this.cumulativeLayoutShift),this.largestContentfulPaint&&e.addEvent("lcp",this.largestContentfulPaint),this.observers))t.disconnect()}firstContentfulPaint(){let e=this.performance.getEntriesByName("first-contentful-paint","paint"),t=Array.isArray(e)&&e[0];if(t)return t.startTime}timeToFirstByte(){let e;let t=this.performance.getEntriesByType("navigation"),n=Array.isArray(t)&&t[0];if((e=n?n.responseStart:this.performance.timing.responseStart-this.performance.timing.navigationStart)>0&&e<=this.clock.now())return e}firstInputDelay(){let e=this.performance.getEntriesByType("first-input"),t=Array.isArray(e)&&e[0];if(t)return{start:t.startTime,end:t.processingStart}}observeLargestContentfulPaint(e){let t=new e(e=>{let t=e.getEntries();t.length>0&&(this.largestContentfulPaint=t[t.length-1].startTime)});t.observe({type:"largest-contentful-paint",buffered:!0}),this.observers.push(t)}observeLayoutShift(e){let t;let n=new e(e=>{for(let n of e.getEntries())!n.hadRecentInput&&(t&&n.startTime-t.previousStartTime<1e3&&n.startTime-t.firstStartTime<5e3?(t.value+=n.value,t.previousStartTime=n.startTime):t={value:n.value,firstStartTime:n.startTime,previousStartTime:n.startTime});t&&(void 0===this.cumulativeLayoutShift||t.value>this.cumulativeLayoutShift)&&(this.cumulativeLayoutShift=t.value)});n.observe({type:"layout-shift",buffered:!0}),this.observers.push(n)}}if("undefined"==typeof window||"undefined"==typeof document)r=function(){let e=()=>{};return e.configure=()=>{},e}(),a=class{constructor(e=W){this.resolveRoute=e}listenForRouteChanges(e){}},i=function(){let e=()=>{};return{start:e,startSpan:()=>({id:"",traceId:"",end:e,isValid:()=>!1}),currentSpanContext:void 0}}();else{let e=function(e){let t=[],n="hidden"===e.document.visibilityState?"in-background":"in-foreground",r=e=>{if(n!==e)for(let r of(n=e,t))r(n)};return e.document.addEventListener("visibilitychange",function(){r("hidden"===e.document.visibilityState?"in-background":"in-foreground")}),e.addEventListener("pagehide",function(){r("in-background")}),e.addEventListener("pageshow",function(){r("in-foreground")}),{onStateChange(e){t.push(e),"in-background"===n&&e(n)}}}(window),t=(e=>{let t={url:{name:"bugsnag.browser.page.url",getValue:()=>e.location.href,permitted:!1},title:{name:"bugsnag.browser.page.title",getValue:()=>e.title,permitted:!1}};return{configure(e){t.title.permitted=e.sendPageAttributes.title||!1,t.url.permitted=e.sendPageAttributes.url||!1},requestAttributes(e){for(let n of Object.values(t))n.permitted&&e.setAttribute(n.name,n.getValue())}}})(document),n=function(e,t){let n=eu(void 0===e.timeOrigin?e.timing.navigationStart:e.timeOrigin,e);return t.onStateChange(t=>{"in-foreground"===t&&(n=eu(n,e))}),{now:()=>e.now(),date:()=>new Date(n+e.now()),convert:e=>e.getTime()-n,toUnixTimestampNanoseconds:e=>y(n+e).toString()}}(performance,e),s=function(e){try{if(e.localStorage)return new ep(e.localStorage)}catch(e){}return new M}(window),o=function(e,t){let n,r;return function(a){let i=new b(a.releaseStage,a.appVersion,a.serviceName,"bugsnag.performance.browser","2.10.1",a.logger);if(i.set("browser.user_agent",e.userAgent),e.userAgentData&&(i.set("browser.platform",e.userAgentData.platform),i.set("browser.mobile",e.userAgentData.mobile)),a.generateAnonymousId){if(n||(n=t.load("bugsnag-anonymous-id").then(e=>{let n=e||B();return e||t.save("bugsnag-anonymous-id",n),r=n})),!r)return n.then(e=>(i.set("device.id",e),i));i.set("device.id",r)}return Promise.resolve(i)}}(navigator,s),c=function(e,t){let n=new U,r=e.fetch;return e.fetch=function(a,i){let s=function(e,t,n,r){let a=z(t),i=a?t.url:String(t),s=!!n&&n.method||a&&t.method||"GET";return{url:K(i,r),method:s,startTime:e,type:"fetch"}}(t.now(),a,i,e.document&&e.document.baseURI),{onRequestEnd:o,extraRequestHeaders:u}=n.start(s),l=function(e,t,n){if(!n)return[e,t];let r=n.reduce((e,t)=>({...e,...t}),{});return!z(e)||t&&t.headers?t=function(e,t){var n;if(t||(t={}),!((n=t.headers)&&"object"==typeof n&&n instanceof Headers))return{...t,headers:{...e,...t.headers}};for(let[n,r]of Object.entries(e))t.headers.has(n)||t.headers.set(n,r);return t}(r,t):function(e,t){for(let[n,r]of Object.entries(e))t.headers.has(n)||t.headers.set(n,r)}(r,e),[e,t]}(a,i,u);return r.call(this,l[0],l[1]).then(e=>(o({status:e.status,endTime:t.now(),state:"success"}),e)).catch(e=>{throw o({error:e,endTime:t.now(),state:"error"}),e})},n}(window,n),h=function(e,t,n){let r=new U,a=new WeakMap,i=new WeakMap,s=e.prototype.open;e.prototype.open=function(e,t,...r){a.set(this,{method:e,url:K(String(t),n&&n.baseURI)}),s.call(this,e,t,...r)};let o=e.prototype.send;return e.prototype.send=function(n){let s=a.get(this);if(s){let n=i.get(this);n&&this.removeEventListener("readystatechange",n);let{onRequestEnd:a,extraRequestHeaders:o}=r.start({type:"xmlhttprequest",method:s.method,url:s.url,startTime:t.now()});if(o)for(let e of o)for(let[t,n]of Object.entries(e))this.setRequestHeader(t,n);let u=n=>{this.readyState===e.DONE&&a&&a(this.status>0?{endTime:t.now(),status:this.status,state:"success"}:{endTime:t.now(),state:"error"})};this.addEventListener("readystatechange",u),i.set(this,u)}o.call(this,n)},r}(XMLHttpRequest,n,document),g=new em(performance,n,window.PerformanceObserver);a=((e,t)=>class{constructor(e=W){this.resolveRoute=e}listenForRouteChanges(n){addEventListener("popstate",r=>{let a=n(new URL(t.href),"popstate");e(e=>{a.end(e)})});let r=history.pushState;history.pushState=function(...t){let a=t[2];if(a){let t=n(new URL(K(a.toString(),document.baseURI)),"pushState");e(e=>{t.end(e)})}r.apply(this,t)}}})(r=function(e,t,n,r,a){let i=new ed(e,t.document),s=new eh(e,n),o=new eh(e,r),u=new ef(e,t.addEventListener,a,t.document),l=new eg(e,[i,u,s,o]);function c(t){let n=e=>{clearTimeout(r),l.unsubscribe(n),t(e)},r=setTimeout(()=>{let r=e.now();l.unsubscribe(n),t(r)},6e4),a=100*!!l.isSettled(),i=e.now();setTimeout(()=>{l.isSettled()?n(i):l.subscribe(n)},a)}return c.configure=function(e){let t=e.settleIgnoreUrls.map(e=>"string"==typeof e?RegExp(e):e).concat(RegExp(e.endpoint));s.setUrlsToIgnore(t),o.setUrlsToIgnore(t)},c}(n,window,c,h,performance),window.location),i=function(e){let t=new O,n=t,r=e.spanContextStorage||new I(e.backgroundingListener),a=e.schema.logger.defaultValue,i=new P(1),s=new j(n,i,e.idGenerator,e.spanAttributesSource,e.clock,e.backgroundingListener,a,r),o=e.plugins(s,r);return{start:u=>{let c=function(e,t){if("string"==typeof e&&(e={apiKey:e}),!l(e)||!d(e.apiKey)||0===e.apiKey.length)throw Error("No Bugsnag API Key set");let n="",r={};for(let a of Object.keys(t))Object.prototype.hasOwnProperty.call(e,a)?t[a].validate(e[a])?r[a]=e[a]:(n+=`
  - ${a} ${t[a].message}, got ${typeof e[a]}`,r[a]=t[a].defaultValue):r[a]=t[a].defaultValue;return r.apiKey=e.apiKey,r.maximumBatchSize=e.maximumBatchSize||100,r.batchInactivityTimeoutMs=e.batchInactivityTimeoutMs||3e4,n.length>0&&r.logger.warn(`Invalid configuration${n}`),r}(u,e.schema);if(c.endpoint===v.endpoint.defaultValue&&(c.endpoint=c.endpoint.replace("https://",`https://${c.apiKey}.`)),c.bugsnag&&"function"==typeof c.bugsnag.Event.prototype.setTraceCorrelation&&c.bugsnag.Client){let e=c.bugsnag.Client.prototype._notify;c.bugsnag.Client.prototype._notify=function(...t){let n=r.current;n&&"function"==typeof t[0].setTraceCorrelation&&t[0].setTraceCorrelation(n.traceId,n.id),e.apply(this,t)}}let f=e.deliveryFactory(c.endpoint);for(let r of(e.spanAttributesSource.configure(c),(void 0===c.samplingProbability?R.create(e.persistence,i,new T(f,c.apiKey)):A.create(i,c.samplingProbability)).then(r=>{for(let a of(n=new k(f,c,e.retryQueueFactory(f,c.retryQueueMaxSize),i,r,new C(e.clock,c,e.resourceAttributesSource)),t.spans))n.add(a);e.backgroundingListener.onStateChange(e=>{n.flush(),"in-foreground"===e&&r.ensureFreshProbability()}),a=c.logger,s.configure(n,c)}),c.plugins))o.push(r);for(let e of o)e.configure(c,s)},startSpan:(e,t)=>{let n=s.validateSpanOptions(e,t),r=s.startSpan(n.name,n.options);return r.setAttribute("bugsnag.span.category","custom"),s.toPublicApi(r)},startNetworkSpan:t=>{let n=s.startNetworkSpan(t);return{...s.toPublicApi(n),end:t=>{s.endSpan(n,N(e.clock,t.endTime),{"http.status_code":t.status})}}},getPlugin:e=>{for(let t of o)if(t instanceof e)return t},get currentSpanContext(){return r.current},...e.platformExtensions&&e.platformExtensions(s,r)}}({backgroundingListener:e,clock:n,resourceAttributesSource:o,spanAttributesSource:t,deliveryFactory:function(e,t,n){let r=!1;return n&&n.onStateChange(e=>{r="in-background"===e}),function(n){return{async send(a){let i=JSON.stringify(a.body);a.headers["Bugsnag-Sent-At"]=t.date().toISOString();try{var s;let t=await e(n,{method:"POST",keepalive:r,body:i,headers:a.headers});return{state:(s=t.status)>=200&&s<300?"success":s>=400&&s<500&&!x.has(s)?"failure-discard":"failure-retryable",samplingProbability:function(e){let t=e.get("Bugsnag-Sampling-Probability");if("string"!=typeof t)return;let n=Number.parseFloat(t);if(!Number.isNaN(n)&&!(n<0)&&!(n>1))return n}(t.headers)}}catch(e){if(i.length>1e6)return{state:"failure-discard"};return{state:"failure-retryable"}}}}}}(window.fetch,n,e),idGenerator:{generate(e){let t=new Uint8Array(e/8);return Array.from(window.crypto.getRandomValues(t)).map(el).join("")}},schema:(q=window.location.hostname,V=new a,{...v,releaseStage:{...v.releaseStage,defaultValue:"localhost"===q?"development":"production"},autoInstrumentFullPageLoads:{defaultValue:!0,message:"should be true|false",validate:u},autoInstrumentNetworkRequests:{defaultValue:!0,message:"should be true|false",validate:u},autoInstrumentRouteChanges:{defaultValue:!0,message:"should be true|false",validate:u},generateAnonymousId:{defaultValue:!0,message:"should be true|false",validate:u},routingProvider:{defaultValue:V,message:"should be a routing provider",validate:e=>l(e)&&"function"==typeof e.resolveRoute&&"function"==typeof e.listenForRouteChanges},settleIgnoreUrls:{defaultValue:[],message:"should be an array of string|RegExp",validate:e=>Array.isArray(e)&&e.every(e=>f(e)||e instanceof RegExp)},networkRequestCallback:{defaultValue:G,message:"should be a function",validate:function(e){return"function"==typeof e}},sendPageAttributes:{defaultValue:J,message:"should be an object",validate:function(e){let t=["undefined","boolean"],n=Object.keys(J);return l(e)&&n.every(n=>t.includes(typeof e[n]))}},serviceName:{defaultValue:"unknown_service",message:"should be a string",validate:f}}),plugins:(t,n)=>[r,new Q(document,window.location,t,g,r,e,performance),new en(t,n,window.PerformanceObserver),new Z(t,n,c,h),new eo(t,window.location,document)],persistence:s,retryQueueFactory:(e,t)=>new D(e,t)})}let eb=i},11704:(e,t,n)=>{e.exports=n(16196)},16196:e=>{e.exports=function(){var e,t,n,r,a=["navigation","request","process","log","user","state","error","manual"],i=function(e,t,n){for(var r=n,a=0,i=e.length;a<i;a++)r=t(r,e[a],a,e);return r},s=function(e,t){return i(e,function(e,n,r,a){return t(n,r,a)?e.concat(n):e},[])},o=function(e,t){return i(e,function(e,n,r,a){return!0===e||n===t},!1)},u=function(e){return"[object Array]"===Object.prototype.toString.call(e)},l=!({toString:null}).propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);if(!l)return n;for(var r=0,a=c.length;r<a;r++)Object.prototype.hasOwnProperty.call(e,c[r])&&n.push(c[r]);return n},f=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=1/0),function(n){return"number"==typeof n&&parseInt(""+n,10)===n&&n>=e&&n<=t}},h=function(e){return"function"==typeof e||u(e)&&s(e,function(e){return"function"==typeof e}).length===e.length},g=function(e){return"string"==typeof e&&!!e.length},p={},m=function(){return{unhandledExceptions:!0,unhandledRejections:!0}};p.schema={apiKey:{defaultValue:function(){return null},message:"is required",validate:g},appVersion:{defaultValue:function(){},message:"should be a string",validate:function(e){return void 0===e||g(e)}},appType:{defaultValue:function(){},message:"should be a string",validate:function(e){return void 0===e||g(e)}},autoDetectErrors:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}},enabledErrorTypes:{defaultValue:function(){return m()},message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:function(e){if("object"!=typeof e||!e)return!1;var t=d(e),n=d(m());return!(s(t,function(e){return o(n,e)}).length<t.length)&&!(s(d(e),function(t){return"boolean"!=typeof e[t]}).length>0)}},onError:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:h},onSession:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:h},onBreadcrumb:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:h},endpoints:{defaultValue:function(e){return void 0===e?{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}:{notify:null,sessions:null}},message:"should be an object containing endpoint URLs { notify, sessions }",validate:function(e){return e&&"object"==typeof e&&g(e.notify)&&g(e.sessions)&&0===s(d(e),function(e){return!o(["notify","sessions"],e)}).length}},autoTrackSessions:{defaultValue:function(e){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}},enabledReleaseStages:{defaultValue:function(){return null},message:"should be an array of strings",validate:function(e){return null===e||u(e)&&s(e,function(e){return"string"==typeof e}).length===e.length}},releaseStage:{defaultValue:function(){return"production"},message:"should be a string",validate:function(e){return"string"==typeof e&&e.length}},maxBreadcrumbs:{defaultValue:function(){return 25},message:"should be a number â‰¤100",validate:function(e){return f(0,100)(e)}},enabledBreadcrumbTypes:{defaultValue:function(){return a},message:"should be null or a list of available breadcrumb types ("+a.join(",")+")",validate:function(e){return null===e||u(e)&&i(e,function(e,t){return!1===e?e:o(a,t)},!0)}},context:{defaultValue:function(){},message:"should be a string",validate:function(e){return void 0===e||"string"==typeof e}},user:{defaultValue:function(){return{}},message:"should be an object with { id, email, name } properties",validate:function(e){return null===e||e&&i(d(e),function(e,t){return e&&o(["id","email","name"],t)},!0)}},metadata:{defaultValue:function(){return{}},message:"should be an object",validate:function(e){return"object"==typeof e&&null!==e}},logger:{defaultValue:function(){},message:"should be null or an object with methods { debug, info, warn, error }",validate:function(e){return!e||e&&i(["debug","info","warn","error"],function(t,n){return t&&"function"==typeof e[n]},!0)}},redactedKeys:{defaultValue:function(){return["password"]},message:"should be an array of strings|regexes",validate:function(e){return u(e)&&e.length===s(e,function(e){return"string"==typeof e||e&&"function"==typeof e.test}).length}},plugins:{defaultValue:function(){return[]},message:"should be an array of plugin objects",validate:function(e){return u(e)&&e.length===s(e,function(e){return e&&"object"==typeof e&&"function"==typeof e.load}).length}},featureFlags:{defaultValue:function(){return[]},message:'should be an array of objects that have a "name" property',validate:function(e){return u(e)&&e.length===s(e,function(e){return e&&"object"==typeof e&&"string"==typeof e.name}).length}},reportUnhandledPromiseRejectionsAsHandled:{defaultValue:function(){return!1},message:"should be true|false",validate:function(e){return!0===e||!1===e}}};var b=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=function(e,t){return i(e,function(e,n,r,a){return e.concat(t(n,r,a))},[])};function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var S=p.schema,w={releaseStage:b({},S.releaseStage,{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"}}),appType:v({},S.appType,{defaultValue:function(){return"browser"}}),logger:b({},S.logger,{defaultValue:function(){return"undefined"!=typeof console&&"function"==typeof console.debug?_():void 0}})},_=function(){var e={},t=console.log;return y(["debug","info","warn","error"],function(n){var r=console[n];e[n]="function"==typeof r?r.bind(console,"[bugsnag]"):t.bind(console,"[bugsnag]")}),e},E=function(){function e(e,t,n,r){void 0===r&&(r=new Date),this.type=n,this.message=e,this.metadata=t,this.timestamp=r}return e.prototype.toJSON=function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},e}(),k={};e=function(){"use strict";function e(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(e){return function(){return this[e]}}var n=["isConstructor","isEval","isNative","isToplevel"],r=["columnNumber","lineNumber"],a=["fileName","functionName","source"],i=n.concat(r,a,["args"],["evalOrigin"]);function s(t){if(t)for(var n=0;n<i.length;n++)void 0!==t[i[n]]&&this["set"+e(i[n])](t[i[n]])}s.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof s)this.evalOrigin=e;else if(e instanceof Object)this.evalOrigin=new s(e);else throw TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:r?r+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},s.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),r=e.substring(0,t),a=e.substring(t+1,n).split(","),i=e.substring(n+1);if(0===i.indexOf("@"))var o=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(i,""),u=o[1],l=o[2],c=o[3];return new s({functionName:r,args:a||void 0,fileName:u,lineNumber:l||void 0,columnNumber:c||void 0})};for(var o=0;o<n.length;o++)s.prototype["get"+e(n[o])]=t(n[o]),s.prototype["set"+e(n[o])]=function(e){return function(t){this[e]=!!t}}(n[o]);for(var u=0;u<r.length;u++)s.prototype["get"+e(r[u])]=t(r[u]),s.prototype["set"+e(r[u])]=function(e){return function(t){if(!(!isNaN(parseFloat(t))&&isFinite(t)))throw TypeError(e+" must be a Number");this[e]=Number(t)}}(r[u]);for(var l=0;l<a.length;l++)s.prototype["get"+e(a[l])]=t(a[l]),s.prototype["set"+e(a[l])]=function(e){return function(t){this[e]=String(t)}}(a[l]);return s},"function"==typeof r&&r.amd?r("stackframe",[],e):"object"==typeof k?k=e():this.StackFrame=e();var C={};t=function(e){return{backtrace:function(t){var n=[],r=10;"object"==typeof t&&"number"==typeof t.maxStackSize&&(r=t.maxStackSize);for(var a=arguments.callee;a&&n.length<r&&a.arguments;){for(var i=Array(a.arguments.length),s=0;s<i.length;++s)i[s]=a.arguments[s];/function(?:\s+([\w$]+))+\s*\(/.test(a.toString())?n.push(new e({functionName:RegExp.$1||void 0,args:i})):n.push(new e({args:i}));try{a=a.caller}catch(e){break}}return n}}},"function"==typeof r&&r.amd?r("stack-generator",["stackframe"],t):"object"==typeof C?C=t(k):this.StackGenerator=t(this.StackFrame);var x={};n=function(e){"use strict";var t=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter(function(e){return!!e.match(n)},this).map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=n.match(/ (\((.+):(\d+):(\d+)\)$)/),a=(n=r?n.replace(r[0],""):n).split(/\s+/).slice(1),i=this.extractLocation(r?r[1]:a.pop());return new e({functionName:a.join(" ")||void 0,fileName:["eval","<anonymous>"].indexOf(i[0])>-1?void 0:i[0],lineNumber:i[1],columnNumber:i[2],source:t})},this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter(function(e){return!e.match(r)},this).map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=t.match(n),a=r&&r[1]?r[1]:void 0,i=this.extractLocation(t.replace(n,""));return new e({functionName:a,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),a=[],i=2,s=r.length;i<s;i+=2){var o=n.exec(r[i]);o&&a.push(new e({fileName:o[2],lineNumber:o[1],source:r[i]}))}return a},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),a=[],i=0,s=r.length;i<s;i+=2){var o=n.exec(r[i]);o&&a.push(new e({functionName:o[3]||void 0,fileName:o[2],lineNumber:o[1],source:r[i]}))}return a},parseOpera11:function(n){return n.stack.split("\n").filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this).map(function(t){var n,r=t.split("@"),a=this.extractLocation(r.pop()),i=r.shift()||"",s=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return i.match(/\(([^)]*)\)/)&&(n=i.replace(/^[^(]+\(([^)]*)\)$/,"$1")),new e({functionName:s,args:void 0===n||"[arguments not available]"===n?void 0:n.split(","),fileName:a[0],lineNumber:a[1],columnNumber:a[2],source:t})},this)}}},"function"==typeof r&&r.amd?r("error-stack-parser",["stackframe"],n):"object"==typeof x?x=n(k):this.ErrorStackParser=n(this.StackFrame);var A=x,T=function(e,t,n,r){var a,i,s,o,u;return JSON.stringify((a=e,i=r&&r.redactedKeys?r.redactedKeys:[],s=r&&r.redactedPaths?r.redactedPaths:[],o=[],u=0,function e(t,n){function r(){return n.length>8&&u>25e3}if(u++,n.length>20||r())return"...";if(null===t||"object"!=typeof t)return t;if(function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1}(o,t))return"[Circular]";if(o.push(t),"function"==typeof t.toJSON)try{u--;var a=e(t.toJSON(),n);return o.pop(),a}catch(e){return R(e)}if(t instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(t))){u--;var l=e({name:t.name,message:t.message},n);return o.pop(),l}if("[object Array]"===Object.prototype.toString.call(t)){for(var c=[],d=0,f=t.length;d<f;d++){if(r()){c.push("...");break}c.push(e(t[d],n.concat("[]")))}return o.pop(),c}var h={};try{for(var g in t)if(Object.prototype.hasOwnProperty.call(t,g)){if(function(e,t){for(var n=0,r=e.length;n<r;n++)if(0===t.indexOf(e[n]))return!0;return!1}(s,n.join("."))&&function(e,t){for(var n=0,r=e.length;n<r;n++)if("string"==typeof e[n]&&e[n].toLowerCase()===t.toLowerCase()||e[n]&&"function"==typeof e[n].test&&e[n].test(t))return!0;return!1}(i,g)){h[g]="[REDACTED]";continue}if(r()){h[g]="...";break}h[g]=e(function(e,t){try{return e[t]}catch(e){return R(e)}}(t,g),n.concat(g))}}catch(e){}return o.pop(),h}(a,[])),t,n)};function R(e){return"[Throws: "+(e?e.message:"?")+"]"}function O(e,t,n,r){if("string"==typeof n){void 0===r?r=null:null!==r&&"string"!=typeof r&&(r=T(r));var a=t[n];if("number"==typeof a){e[a]={name:n,variant:r};return}e.push({name:n,variant:r}),t[n]=e.length-1}}var L=function(e,t,n){var r=t[n];"number"==typeof r&&(e[r]=null,delete t[n])},P=function(e,t,n){if(u(t)){for(var r=0;r<t.length;++r){var a=t[r];null!==a&&"object"==typeof a&&O(e,n,a.name,a.variant)}return e}},I=function(e){return!!e&&(!!e.stack||!!e.stacktrace||!!e["opera#sourceloc"])&&"string"==typeof(e.stack||e.stacktrace||e["opera#sourceloc"])&&e.stack!==e.name+": "+e.message},N=function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},j=function(e,t,n){if("string"==typeof t){if(!n){delete e[t];return}"__proto__"!==t&&"constructor"!==t&&"prototype"!==t&&e[t]&&delete e[t][n]}},q=function(e,t,n,r){var a,i;if(t){if(null===n)return j(e,t);if("object"==typeof n&&(i=n),"string"==typeof n&&((a={})[n]=r,i=a),i){if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]||(e[t]={}),e[t]=b({},e[t],i)}}},V=function(e,t,n){if("string"==typeof t){if(!n)return e[t];if(e[t])return e[t][n]}};function B(){return(B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var F=function(){function e(t,n,r,a,i){void 0===r&&(r=[]),void 0===a&&(a=$()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=i,this._handledState=a,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._features=[],this._featuresIndex={},this._user={},this._session=void 0,this._correlation=void 0,this.errors=[H(t,n,e.__type,r)]}var t=e.prototype;return t.addMetadata=function(e,t,n){return q(this._metadata,e,t,n)},t.setTraceCorrelation=function(e,t){"string"==typeof e&&(this._correlation=B({traceId:e},"string"==typeof t?{spanId:t}:{}))},t.getMetadata=function(e,t){return V(this._metadata,e,t)},t.clearMetadata=function(e,t){return j(this._metadata,e,t)},t.addFeatureFlag=function(e,t){void 0===t&&(t=null),O(this._features,this._featuresIndex,e,t)},t.addFeatureFlags=function(e){P(this._features,e,this._featuresIndex)},t.getFeatureFlags=function(){return y(s(this._features,Boolean),function(e){var t=e.name,n=e.variant,r={featureFlag:t};return"string"==typeof n&&(r.variant=n),r})},t.clearFeatureFlag=function(e){L(this._features,this._featuresIndex,e)},t.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},t.getUser=function(){return this._user},t.setUser=function(e,t,n){this._user={id:e,email:t,name:n}},t.toJSON=function(){return{payloadVersion:"4",exceptions:y(this.errors,function(e){return b({},e,{message:e.errorMessage})}),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session,featureFlags:this.getFeatureFlags(),correlation:this._correlation}},e}(),M=function(e){var t={file:e.fileName,method:D(e.functionName),lineNumber:e.lineNumber,columnNumber:e.columnNumber,code:void 0,inProject:void 0};return!(t.lineNumber>-1)||t.file||t.method||(t.file="global code"),t},D=function(e){return/^global code$/i.test(e)?"global code":e},$=function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},U=function(e){return"string"==typeof e?e:""};function H(e,t,n,r){return{errorClass:U(e),errorMessage:U(t),type:n,stacktrace:i(r,function(e,t){var n=M(t);try{if("{}"===JSON.stringify(n))return e;return e.concat(n)}catch(t){return e}},[])}}F.getStacktrace=function(e,t,n){if(I(e))return A.parse(e).slice(t);try{return s(C.backtrace(),function(e){return -1===(e.functionName||"").indexOf("StackGenerator$$")}).slice(1+n)}catch(e){return[]}},F.create=function(e,t,n,r,a,i){void 0===a&&(a=0);var s=z(e,t,r,i),o=s[0],u=s[1];try{var l=F.getStacktrace(o,u>0?1+u+a:0,1+a);c=new F(o.name,o.message,l,n,e)}catch(t){c=new F(o.name,o.message,[],n,e)}if("InvalidError"===o.name&&c.addMetadata(""+r,"non-error parameter",K(e)),o.cause){var c,d,f=y((function e(t){return t.cause?[t].concat(e(t.cause)):[t]})(o).slice(1),function(e){var t=N(e)&&I(e)?A.parse(e):[],n=z(e,!0,"error cause")[0];return"InvalidError"===n.name&&c.addMetadata("error cause",K(e)),H(n.name,n.message,F.__type,t)});(d=c.errors).push.apply(d,f)}return c};var K=function(e){return null===e?"null":void 0===e?"undefined":e},z=function(e,t,n,r){var a,i=0,s=function(e){var t="error cause"===n?"was":"received";r&&r.warn(n+" "+t+' a non-error: "'+e+'"');var a=Error(n+" "+t+' a non-error. See "'+n+'" tab for more detail.');return a.name="InvalidError",a};if(t)switch(typeof e){case"string":case"number":case"boolean":a=Error(String(e)),i+=1;break;case"function":a=s("function"),i+=2;break;case"object":null!==e&&N(e)?a=e:null!==e&&J(e)?((a=Error(e.message||e.errorMessage)).name=e.name||e.errorClass,i+=1):(a=s(null===e?"null":"unsupported object"),i+=2);break;default:a=s("nothing"),i+=2}else N(e)?a=e:(a=s(typeof e),i+=2);if(!I(a))try{throw a}catch(e){I(e)&&(a=e,i=1)}return[a,i]};F.__type="browserjs";var J=function(e){return("string"==typeof e.name||"string"==typeof e.errorClass)&&("string"==typeof e.message||"string"==typeof e.errorMessage)},X=function(e,t,n){var r=0,a=function(){if(r>=e.length)return n(null,!0);t(e[r],function(e,t){return e?n(e):!1===t?n(null,!1):void(r++,a())})};a()},W=function(e,t,n,r){X(e,function(e,r){if("function"!=typeof e)return r(null);try{if(2!==e.length){var a=e(t);if(a&&"function"==typeof a.then)return a.then(function(e){return setTimeout(function(){return r(null,e)})},function(e){setTimeout(function(){return n(e),r(null,!0)})});return r(null,a)}e(t,function(e,t){if(e)return n(e),r(null);r(null,t)})}catch(e){n(e),r(null)}},r)},Q=function(e,t,n,r){for(var a=!1,i=e.slice();!a&&i.length;)try{a=!1===i.pop()(t)}catch(e){r.error("Error occurred in "+n+" callback, continuing anywayâ€¦"),r.error(e)}return a},G=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},Y="object"==typeof window?window:self,Z=0;for(var ee in Y)Object.hasOwnProperty.call(Y,ee)&&Z++;var et=G(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+Z.toString(36),4),en=function(){return et},er=0;function ea(){return G((1679616*Math.random()<<0).toString(36),4)}function ei(){return"c"+new Date().getTime().toString(36)+G((er=er<1679616?er:0,++er-1).toString(36),4)+en()+(ea()+ea())}ei.fingerprint=en,ei.isCuid=function(e){return"string"==typeof e&&/^c[a-z0-9]{20,32}$/.test(e)};var es=function(){function e(){this.id=ei(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}var t=e.prototype;return t.getUser=function(){return this._user},t.setUser=function(e,t,n){this._user={id:e,email:t,name:n}},t.toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},t._track=function(e){this[e._handledState.unhandled?"_unhandled":"_handled"]+=1},e}(),eo=function(){},eu=function(){function e(t,n,r,a){var i=this;void 0===n&&(n=p.schema),void 0===r&&(r=[]),this._notifier=a,this._config={},this._schema=n,this._delivery={sendSession:eo,sendEvent:eo},this._logger={debug:eo,info:eo,warn:eo,error:eo},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._featuresIndex={},this._features=[],this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=e,this.Event=F,this.Breadcrumb=E,this.Session=es,this._config=this._configure(t,r),y(r.concat(this._config.plugins),function(e){e&&i._loadPlugin(e)}),this._depth=1;var s=this,o=this.notify;this.notify=function(){return o.apply(s,arguments)}}var t=e.prototype;return t.addMetadata=function(e,t,n){return q(this._metadata,e,t,n)},t.getMetadata=function(e,t){return V(this._metadata,e,t)},t.clearMetadata=function(e,t){return j(this._metadata,e,t)},t.addFeatureFlag=function(e,t){void 0===t&&(t=null),O(this._features,this._featuresIndex,e,t)},t.addFeatureFlags=function(e){P(this._features,e,this._featuresIndex)},t.clearFeatureFlag=function(e){L(this._features,this._featuresIndex,e)},t.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},t.getContext=function(){return this._context},t.setContext=function(e){this._context=e},t._configure=function(e,t){var n=i(t,function(e,t){return t&&t.configSchema?b({},e,t.configSchema):e},this._schema),r=i(d(n),function(t,r){var a=n[r].defaultValue(e[r]);return void 0!==e[r]?n[r].validate(e[r])?n[r].allowPartialObject?t.config[r]=b(a,e[r]):t.config[r]=e[r]:(t.errors[r]=n[r].message,t.config[r]=a):t.config[r]=a,t},{errors:{},config:{}}),a=r.errors,s=r.config;if(n.apiKey){if(!s.apiKey)throw Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(s.apiKey)||(a.apiKey="should be a string of 32 hexadecimal characters")}return this._metadata=b({},s.metadata),P(this._features,s.featureFlags,this._featuresIndex),this._user=b({},s.user),this._context=s.context,s.logger&&(this._logger=s.logger),s.onError&&(this._cbs.e=this._cbs.e.concat(s.onError)),s.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(s.onBreadcrumb)),s.onSession&&(this._cbs.s=this._cbs.s.concat(s.onSession)),d(a).length&&this._logger.warn(el(a,e)),s},t.getUser=function(){return this._user},t.setUser=function(e,t,n){this._user={id:e,email:t,name:n}},t._loadPlugin=function(e){var t=e.load(this);e.name&&(this._plugins["~"+e.name+"~"]=t)},t.getPlugin=function(e){return this._plugins["~"+e+"~"]},t._setDelivery=function(e){this._delivery=e(this)},t.startSession=function(){var e=new es;return(e.app.releaseStage=this._config.releaseStage,e.app.version=this._config.appVersion,e.app.type=this._config.appType,e._user=b({},this._user),Q(this._cbs.s,e,"onSession",this._logger))?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,e)},t.addOnError=function(e,t){void 0===t&&(t=!1),this._cbs.e[t?"unshift":"push"](e)},t.removeOnError=function(e){this._cbs.e=s(this._cbs.e,function(t){return t!==e})},t._addOnSessionPayload=function(e){this._cbs.sp.push(e)},t.addOnSession=function(e){this._cbs.s.push(e)},t.removeOnSession=function(e){this._cbs.s=s(this._cbs.s,function(t){return t!==e})},t.addOnBreadcrumb=function(e,t){void 0===t&&(t=!1),this._cbs.b[t?"unshift":"push"](e)},t.removeOnBreadcrumb=function(e){this._cbs.b=s(this._cbs.b,function(t){return t!==e})},t.pauseSession=function(){return this._sessionDelegate.pauseSession(this)},t.resumeSession=function(){return this._sessionDelegate.resumeSession(this)},t.leaveBreadcrumb=function(e,t,n){if(e="string"==typeof e?e:"",n="string"==typeof n&&o(a,n)?n:"manual",t="object"==typeof t&&null!==t?t:{},e){var r=new E(e,t,n);if(Q(this._cbs.b,r,"onBreadcrumb",this._logger)){this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback");return}this._breadcrumbs.push(r),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs))}},t._isBreadcrumbTypeEnabled=function(e){var t=this._config.enabledBreadcrumbTypes;return null===t||o(t,e)},t.notify=function(e,t,n){void 0===n&&(n=eo);var r=F.create(e,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(r,t,n)},t._notify=function(t,n,r){var a=this;if(void 0===r&&(r=eo),t.app=b({},t.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),t.context=t.context||this._context,t._metadata=b({},t._metadata,this._metadata),t._user=b({},t._user,this._user),t.breadcrumbs=this._breadcrumbs.slice(),P(t._features,this._features,t._featuresIndex),null!==this._config.enabledReleaseStages&&!o(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),r(null,t);var i=t.severity,s=function(e){a._logger.error("Error occurred in onError callback, continuing anywayâ€¦"),a._logger.error(e)};W([].concat(this._cbs.e).concat(n),t,s,function(n,o){if(n&&s(n),!o)return a._logger.debug("Event not sent due to onError callback"),r(null,t);a._isBreadcrumbTypeEnabled("error")&&e.prototype.leaveBreadcrumb.call(a,t.errors[0].errorClass,{errorClass:t.errors[0].errorClass,errorMessage:t.errors[0].errorMessage,severity:t.severity},"error"),i!==t.severity&&(t._handledState.severityReason={type:"userCallbackSetSeverity"}),t.unhandled!==t._handledState.unhandled&&(t._handledState.severityReason.unhandledOverridden=!0,t._handledState.unhandled=t.unhandled),a._session&&(a._session._track(t),t._session=a._session),a._delivery.sendEvent({apiKey:t.apiKey||a._config.apiKey,notifier:a._notifier,events:[t]},function(e){return r(e,t)})})},e}(),el=function(e,t){return Error("Invalid configuration\n"+y(d(e),function(n){return"  - "+n+" "+e[n]+", got "+ec(t[n])}).join("\n\n"))},ec=function(e){switch(typeof e){case"string":case"number":case"object":return JSON.stringify(e);default:return String(e)}},ed={},ef=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request"];ed.event=function(e,t){var n=T(e,null,null,{redactedPaths:ef,redactedKeys:t});return n.length>1e6&&(e.events[0]._metadata={notifier:"WARNING!\nSerialized payload was "+n.length/1e6+"MB (limit = 1MB)\nmetadata was removed"},n=T(e,null,null,{redactedPaths:ef,redactedKeys:t})),n},ed.session=function(e,t){return T(e,null,null)};var eh={},eg=function(e,t,n,r){var a=JSON.parse(JSON.stringify(new Date));return ep(e.endpoints[t],r.location.protocol)+"?apiKey="+encodeURIComponent(e.apiKey)+"&payloadVersion="+n+"&sentAt="+encodeURIComponent(a)},ep=(eh=function(e,t){return void 0===t&&(t=window),{sendEvent:function(n,r){if(void 0===r&&(r=function(){}),null===e._config.endpoints.notify){var a=Error("Event not sent due to incomplete endpoint configuration");return r(a)}var i=eg(e._config,"notify","4",t),s=ed.event(n,e._config.redactedKeys),o=new t.XDomainRequest;o.onload=function(){r(null)},o.onerror=function(){var t=Error("Event failed to send");e._logger.error("Event failed to sendâ€¦",t),s.length>1e6&&e._logger.warn("Event oversized ("+(s.length/1e6).toFixed(2)+" MB)"),r(t)},o.open("POST",i),setTimeout(function(){try{o.send(s)}catch(t){e._logger.error(t),r(t)}},0)},sendSession:function(n,r){if(void 0===r&&(r=function(){}),null===e._config.endpoints.sessions){var a=Error("Session not sent due to incomplete endpoint configuration");return r(a)}var i=eg(e._config,"sessions","1",t),s=new t.XDomainRequest;s.onload=function(){r(null)},s.open("POST",i),setTimeout(function(){try{s.send(ed.session(n,e._config.redactedKeys))}catch(t){e._logger.error(t),r(t)}},0)}}})._matchPageProtocol=function(e,t){return"http:"===t?e.replace(/^https:/,"http:"):e},em=function(e,t){return void 0===t&&(t=window),{sendEvent:function(n,r){void 0===r&&(r=function(){});try{var a=e._config.endpoints.notify;if(null===a){var i=Error("Event not sent due to incomplete endpoint configuration");return r(i)}var s=new t.XMLHttpRequest,o=ed.event(n,e._config.redactedKeys);s.onreadystatechange=function(){if(s.readyState===t.XMLHttpRequest.DONE){var n=s.status;if(0===n||n>=400){var a=Error("Request failed with status "+n);e._logger.error("Event failed to sendâ€¦",a),o.length>1e6&&e._logger.warn("Event oversized ("+(o.length/1e6).toFixed(2)+" MB)"),r(a)}else r(null)}},s.open("POST",a),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Bugsnag-Api-Key",n.apiKey||e._config.apiKey),s.setRequestHeader("Bugsnag-Payload-Version","4"),s.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),s.send(o)}catch(t){e._logger.error(t)}},sendSession:function(n,r){void 0===r&&(r=function(){});try{var a=e._config.endpoints.sessions;if(null===a){var i=Error("Session not sent due to incomplete endpoint configuration");return r(i)}var s=new t.XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===t.XMLHttpRequest.DONE){var n=s.status;if(0===n||n>=400){var a=Error("Request failed with status "+n);e._logger.error("Session failed to sendâ€¦",a),r(a)}else r(null)}},s.open("POST",a),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Bugsnag-Api-Key",e._config.apiKey),s.setRequestHeader("Bugsnag-Payload-Version","1"),s.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),s.send(ed.session(n,e._config.redactedKeys))}catch(t){e._logger.error(t)}}}},eb=new Date,ey=function(){eb=new Date},ev={name:"appDuration",load:function(e){return e.addOnError(function(e){var t=new Date;e.app.duration=t-eb},!0),{reset:ey}}},eS="bugsnag-anonymous-id",ew=function(e){try{var t=e.localStorage,n=t.getItem(eS);if(n&&/^c[a-z0-9]{20,32}$/.test(n))return n;return n=ei(),t.setItem(eS,n),n}catch(e){}},e_=function(e){var t=e.getUser();t&&t.id||e.setUser(e.device.id)},eE={load:function(e){e._sessionDelegate=ek}},ek={startSession:function(e,t){return(e._session=t,e._pausedSession=null,null===e._config.enabledReleaseStages||o(e._config.enabledReleaseStages,e._config.releaseStage))?e._delivery.sendSession({notifier:e._notifier,device:t.device,app:t.app,sessions:[{id:t.id,startedAt:t.startedAt,user:t._user}]}):e._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),e},resumeSession:function(e){return e._session?e:e._pausedSession?(e._session=e._pausedSession,e._pausedSession=null,e):e.startSession()},pauseSession:function(e){e._pausedSession=e._session,e._session=null}},eC={load:function(e){e._config.collectUserIp||e.addOnError(function(e){e._user&&void 0===e._user.id&&delete e._user.id,e._user=b({id:"[REDACTED]"},e._user),e.request=b({clientIp:"[REDACTED]"},e.request)})},configSchema:{collectUserIp:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}}}},ex={};ex.load=function(e){!/^(local-)?dev(elopment)?$/.test(e._config.releaseStage)&&e._isBreadcrumbTypeEnabled("log")&&y(eA,function(t){var n=console[t];console[t]=function(){for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];e.leaveBreadcrumb("Console output",i(a,function(e,t,n){var r="[Unknown value]";try{r=String(t)}catch(e){}if("[object Object]"===r)try{r=JSON.stringify(t)}catch(e){}return e["["+n+"]"]=r,e},{severity:0===t.indexOf("group")?"log":t}),"log"),n.apply(console,a)},console[t]._restore=function(){console[t]=n}})};var eA=s(["log","debug","info","warn","error"],function(e){return"undefined"!=typeof console&&"function"==typeof console[e]});function eT(e,t,n){var r=e[t];if(!r)return r;var a=n(r);return e[t]=a,r}function eR(e){var t=!!e[1]&&"function"==typeof e[1].handleEvent;return{get:function(){return t?e[1].handleEvent:e[1]},replace:function(n){t?e[1].handleEvent=n:e[1]=n}}}var eO=/^\s*([^\s][\s\S]{0,139}[^\s])?\s*/,eL={};eL=function(e){return void 0===e&&(e=window),{load:function(t){if("addEventListener"in e&&t._isBreadcrumbTypeEnabled("navigation")){var n=function(e){return function(){return t.leaveBreadcrumb(e,{},"navigation")}};e.addEventListener("pagehide",n("Page hidden"),!0),e.addEventListener("pageshow",n("Page shown"),!0),e.addEventListener("load",n("Page loaded"),!0),e.document.addEventListener("DOMContentLoaded",n("DOMContentLoaded"),!0),e.addEventListener("load",function(){return e.addEventListener("popstate",n("Navigated back"),!0)}),e.addEventListener("hashchange",function(n){var r=n.oldURL?{from:eP(n.oldURL,e),to:eP(n.newURL,e),state:ej(e)}:{to:eP(e.location.href,e)};t.leaveBreadcrumb("Hash changed",r,"navigation")},!0),e.history.pushState&&eN(t,e.history,"pushState",e,!0),e.history.replaceState&&eN(t,e.history,"replaceState",e)}}}};var eP=function(e,t){var n=t.document.createElement("A");return n.href=e,""+n.pathname+n.search+n.hash},eI=function(e,t,n,r){var a=eP(e.location.href,e);return{title:n,state:t,prevState:ej(e),to:r||a,from:a}},eN=function(e,t,n,r,a){void 0===a&&(a=!1);var i=t[n];t[n]=function(s,o,u){e.leaveBreadcrumb("History "+n,eI(r,s,o,u),"navigation"),a&&"function"==typeof e.resetEventCount&&e.resetEventCount(),i.apply(t,[s,o].concat(void 0!==u?u:[]))}},ej=function(e){try{return e.history.state}catch(e){}},eq="request",eV=function(e){return e&&new Date-e},eB={load:function(e){var t=0;e.addOnError(function(n){if(t>=e._config.maxEvents)return e._logger.warn("Cancelling event send due to maxEvents per session limit of "+e._config.maxEvents+" being reached"),!1;t++}),e.resetEventCount=function(){t=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:"should be a positive integer â‰¤100",validate:function(e){return f(1,100)(e)}}}},eF={},eM=(eF={load:function(e){e.addOnError(function(e){y(i(e.errors,function(e,t){return e.concat(t.stacktrace)},[]),function(e){e.file=eM(e.file)})})}})._strip=function(e){return"string"==typeof e?e.replace(/\?.*$/,"").replace(/#.*$/,""):e},eD=function(e,t,n,r){e[0]||e.push({});var a=e[0];a.file||"string"!=typeof t||(a.file=t),!a.lineNumber&&e$(n)&&(a.lineNumber=n),!a.columnNumber&&(e$(r)?a.columnNumber=r:window.event&&e$(window.event.errorCharacter)&&(a.columnNumber=window.event.errorCharacter))},e$=function(e){return"number"==typeof e&&"NaN"!==String.call(e)},eU={},eH=b({},p.schema,w),eK={_client:null,createClient:function(e){"string"==typeof e&&(e={apiKey:e}),e||(e={});var t,n,r,a,u,l,c,d,f,h,g,p,m=new eu(e,eH,[ev,(void 0===t&&(t=navigator),void 0===n&&(n=window),{load:function(e){var r={locale:t.browserLanguage||t.systemLanguage||t.userLanguage||t.language,userAgent:t.userAgent};n&&n.screen&&n.screen.orientation&&n.screen.orientation.type?r.orientation=n.screen.orientation.type:n&&n.document&&(r.orientation=n.document.documentElement.clientWidth>n.document.documentElement.clientHeight?"landscape":"portrait"),e._config.generateAnonymousId&&(r.id=ew(n)),e.addOnSession(function(t){t.device=b({},t.device,r),e._config.collectUserIp||e_(t)}),e.addOnError(function(t){t.device=b({},t.device,r,{time:new Date}),e._config.collectUserIp||e_(t)},!0)},configSchema:{generateAnonymousId:{validate:function(e){return!0===e||!1===e},defaultValue:function(){return!0},message:"should be true|false"}}}),(void 0===r&&(r=window),{load:function(e){e.addOnError(function(e){void 0===e.context&&(e.context=r.location.pathname)},!0)}}),(void 0===a&&(a=window),{load:function(e){e.addOnError(function(e){e.request&&e.request.url||(e.request=b({},e.request,{url:a.location.href}))},!0)}}),eB,eE,eC,eF,(void 0===u&&(u=window),void 0===l&&(l="window onerror"),{load:function(e){if(e._config.autoDetectErrors&&e._config.enabledErrorTypes.unhandledExceptions){var t=u.onerror;u.onerror=function(n,r,a,i,s){if(0===a&&/Script error\.?/.test(n))e._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{var o,u={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}};if(s)eD((o=e.Event.create(s,!0,u,l,1)).errors[0].stacktrace,r,a,i);else if("object"!=typeof n||null===n||r&&"string"==typeof r||a||i||s)eD((o=e.Event.create(n,!0,u,l,1)).errors[0].stacktrace,r,a,i);else{var c=n.type?"Event: "+n.type:"Error",d=n.message||n.detail||"";(o=e.Event.create({name:c,message:d},!0,u,l,1)).originalError=n,o.addMetadata(l,{event:n,extraParameters:r})}e._notify(o)}"function"==typeof t&&t.apply(this,arguments)}}}}),(void 0===c&&(c=window),{load:function(e){if(e._config.autoDetectErrors&&e._config.enabledErrorTypes.unhandledRejections){var t=function(t){var n,r=t.reason,a=!1;try{t.detail&&t.detail.reason&&(r=t.detail.reason,a=!0)}catch(e){}var i=!e._config.reportUnhandledPromiseRejectionsAsHandled,s=e.Event.create(r,!1,{severity:"error",unhandled:i,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,e._logger);a&&y(s.errors[0].stacktrace,(n=r,function(e){e.file!==n.toString()&&e.method&&(e.method=e.method.replace(/^\s+/,""))})),e._notify(s,function(e){if(N(e.originalError)&&!e.originalError.stack){var t;e.addMetadata("unhandledRejection handler",((t={})[Object.prototype.toString.call(e.originalError)]={name:e.originalError.name,message:e.originalError.message,code:e.originalError.code},t))}})};"addEventListener"in c?c.addEventListener("unhandledrejection",t):c.onunhandledrejection=function(e,n){t({detail:{reason:e,promise:n}})}}}}),eL(),(void 0===d&&(d=window),{load:function(e){"addEventListener"in d&&e._isBreadcrumbTypeEnabled("user")&&d.addEventListener("click",function(t){var n,r,a,i;try{(i=(a=t.target).textContent||a.innerText||"")||"submit"!==a.type&&"button"!==a.type||(i=a.value),n=(i=i.replace(eO,"$1")).length>140?i.slice(0,135)+"(...)":i,r=function e(t,n){var r=[t.tagName];if(t.id&&r.push("#"+t.id),t.className&&t.className.length&&r.push("."+t.className.split(" ").join(".")),!n.document.querySelectorAll||!Array.prototype.indexOf)return r.join("");try{if(1===n.document.querySelectorAll(r.join("")).length)return r.join("")}catch(e){return r.join("")}if(t.parentNode.childNodes.length>1){var a=Array.prototype.indexOf.call(t.parentNode.childNodes,t)+1;r.push(":nth-child("+a+")")}return 1===n.document.querySelectorAll(r.join("")).length?r.join(""):t.parentNode?e(t.parentNode,n)+" > "+r.join(""):r.join("")}(t.target,d)}catch(t){n="[hidden]",r="[hidden]",e._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z")}e.leaveBreadcrumb("UI click",{targetText:n,targetSelector:r},"user")},!0)}}),(void 0===f&&(f=[]),void 0===h&&(h=window),{load:function(e){if(e._isBreadcrumbTypeEnabled("request")){var t=[e._config.endpoints.notify,e._config.endpoints.sessions].concat(f);(function(){if("addEventListener"in h.XMLHttpRequest.prototype&&"WeakMap"in h){var n=new WeakMap,r=new WeakMap,a=h.XMLHttpRequest.prototype.open;h.XMLHttpRequest.prototype.open=function(e,t){this&&n.set(this,{method:e,url:t}),a.apply(this,arguments)};var i=h.XMLHttpRequest.prototype.send;h.XMLHttpRequest.prototype.send=function(a){var s=this,u=n.get(this);if(u){var l=r.get(this);l&&(this.removeEventListener("load",l.load),this.removeEventListener("error",l.error));var c=new Date,d=function(){return function(n,r,a){if(void 0===r){e._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}!("string"==typeof r&&o(t,r.replace(/\?.*$/,"")))&&e.leaveBreadcrumb("XMLHttpRequest error",{method:String(n),url:String(r),duration:a},eq)}(u.method,u.url,eV(c))},f=function(){return function(n,r,a,i){if(void 0===r){e._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}if(!("string"==typeof r&&o(t,r.replace(/\?.*$/,"")))){var s={status:a,method:String(n),url:String(r),duration:i};a>=400?e.leaveBreadcrumb("XMLHttpRequest failed",s,eq):e.leaveBreadcrumb("XMLHttpRequest succeeded",s,eq)}}(u.method,u.url,s.status,eV(c))};this.addEventListener("load",f),this.addEventListener("error",d),this&&r.set(this,{load:f,error:d})}i.apply(this,arguments)}}})(),function(){if("fetch"in h&&!h.fetch.polyfill){var e=h.fetch;h.fetch=function(){var t,a=arguments,i=arguments[0],s=arguments[1],o=null;return i&&"object"==typeof i?(o=i.url,s&&"method"in s?t=s.method:i&&"method"in i&&(t=i.method)):(o=i,s&&"method"in s&&(t=s.method)),void 0===t&&(t="GET"),new Promise(function(i,s){var u=new Date;e.apply(void 0,a).then(function(e){n(e,t,o,eV(u)),i(e)}).catch(function(e){r(t,o,eV(u)),s(e)})})}}}();var n=function(t,n,r,a){var i={method:String(n),status:t.status,url:String(r),duration:a};t.status>=400?e.leaveBreadcrumb("fetch() failed",i,eq):e.leaveBreadcrumb("fetch() succeeded",i,eq)},r=function(t,n,r){e.leaveBreadcrumb("fetch() error",{method:String(t),url:String(n),duration:r},eq)}}}}),ex,(void 0===g&&(g=document),void 0===p&&(p=window),{load:function(e){if(e._config.trackInlineScripts){var t=p.location.href,n="",r=g.attachEvent?"complete"===g.readyState:"loading"!==g.readyState,a=function(){return g.documentElement.outerHTML};n=a();var o=g.onreadystatechange;g.onreadystatechange=function(){"interactive"===g.readyState&&(n=a(),r=!0);try{o.apply(this,arguments)}catch(e){}};var u=null,l=function(e){u=e},c=function(){var e=g.currentScript||u;if(!e&&!r){var t=g.scripts||g.getElementsByTagName("script");e=t[t.length-1]}return e},d=function(e){r&&n||(n=a());var t=["\x3c!-- DOC START --\x3e"].concat(n.split("\n")),s=e-1,o=Math.max(s-3,0),u=Math.min(s+3,t.length);return i(t.slice(o,u),function(e,t,n){return e[o+1+n]=t.length<=200?t:t.substr(0,200),e},{})};e.addOnError(function(e){e.errors[0].stacktrace=s(e.errors[0].stacktrace,function(e){return!/__trace__$/.test(e.method)});var n=e.errors[0].stacktrace[0],r=function(e){return e.replace(/#.*$/,"").replace(/\?.*$/,"")};if(!n||!n.file||r(n.file)===r(t)){var a=c();if(a){var i=a.innerHTML;e.addMetadata("script","content",i.length<=5e5?i:i.substr(0,5e5)),n&&n.lineNumber&&(n.code=d(n.lineNumber))}}},!0);var f=y(["setTimeout","setInterval","setImmediate","requestAnimationFrame"],function(e){return eT(p,e,function(e){return h(e,function(e){return{get:function(){return e[0]},replace:function(t){e[0]=t}}})})})[0];y(["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],function(e){p[e]&&p[e].prototype&&Object.prototype.hasOwnProperty.call(p[e].prototype,"addEventListener")&&(eT(p[e].prototype,"addEventListener",function(e){return h(e,eR)}),eT(p[e].prototype,"removeEventListener",function(e){return h(e,eR,!0)}))})}function h(e,t,n){return void 0===n&&(n=!1),function(){var r=[].slice.call(arguments);try{var a=t(r),i=a.get();if(n&&e.apply(this,r),"function"!=typeof i)return e.apply(this,r);if(i.__trace__)a.replace(i.__trace__);else{var s=c();i.__trace__=function(){l(s),f(function(){l(null)},0);var e=i.apply(this,arguments);return l(null),e},i.__trace__.__trace__=i.__trace__,a.replace(i.__trace__)}}catch(e){}if(e.apply)return e.apply(this,r);switch(r.length){case 1:return e(r[0]);case 2:return e(r[0],r[1]);default:return e()}}}},configSchema:{trackInlineScripts:{validate:function(e){return!0===e||!1===e},defaultValue:function(){return!0},message:"should be true|false"}}})],{name:"Bugsnag JavaScript",version:"8.1.2",url:"https://github.com/bugsnag/bugsnag-js"});return m._setDelivery(window.XDomainRequest?eh:em),m._logger.debug("Loaded!"),m.leaveBreadcrumb("Bugsnag loaded",{},"state"),m._config.autoTrackSessions?m.startSession():m},start:function(e){return eK._client?eK._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."):eK._client=eK.createClient(e),eK._client},isStarted:function(){return null!=eK._client}};return y(["resetEventCount"].concat(d(eu.prototype)),function(e){/^_/.test(e)||(eK[e]=function(){if(!eK._client)return console.log("Bugsnag."+e+"() was called before Bugsnag.start()");eK._client._depth+=1;var t=eK._client[e].apply(eK._client,arguments);return eK._client._depth-=1,t})}),(eU=eK).Client=eu,eU.Event=F,eU.Session=es,eU.Breadcrumb=E,eU.default=eK,eU}()},19755:(e,t,n)=>{var r=n(68101),a=n(67853),i=n(47558),s=0;function o(){return i((1679616*Math.random()<<0).toString(36),4)}function u(){return"c"+new Date().getTime().toString(36)+i((s=s<1679616?s:0,++s-1).toString(36),4)+r()+(o()+o())}u.fingerprint=r,u.isCuid=a,e.exports=u},42714:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"setAttributesFromProps",{enumerable:!0,get:function(){return i}});let n={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",noModule:"noModule"},r=["onLoad","onReady","dangerouslySetInnerHTML","children","onError","strategy","stylesheets"];function a(e){return["async","defer","noModule"].includes(e)}function i(e,t){for(let[i,s]of Object.entries(t)){if(!t.hasOwnProperty(i)||r.includes(i)||void 0===s)continue;let o=n[i]||i.toLowerCase();"SCRIPT"===e.tagName&&a(o)?e[o]=!!s:e.setAttribute(o,String(s)),(!1===s||"SCRIPT"===e.tagName&&a(o)&&(!s||"false"===s))&&(e.setAttribute(o,""),e.removeAttribute(o))}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},47558:e=>{e.exports=function(e,t){var n="000000000"+e;return n.substr(n.length-t)}},49751:e=>{e.exports=function(){var e={};function t(){return(t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}e=function(){function e(){var e="undefined"!=typeof window&&window.React;if(this.name="react",this.lazy=0==arguments.length&&!e,!this.lazy&&(this.React=(arguments.length<=0?void 0:arguments[0])||e,!this.React))throw Error("@bugsnag/plugin-react reference to `React` was undefined")}return e.prototype.load=function(e){if(!this.lazy){var t=a(this.React,e);return t.createErrorBoundary=function(){return t},t}var n=function(){throw Error("@bugsnag/plugin-react was used incorrectly. Valid usage is as follows:\nPass React to the plugin constructor\n\n  `Bugsnag.start({ plugins: [new BugsnagPluginReact(React)] })`\nand then call `const ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary()`\n\nOr if React is not available until after Bugsnag has started,\nconstruct the plugin with no arguments\n  `Bugsnag.start({ plugins: [new BugsnagPluginReact()] })`,\nthen pass in React when available to construct your error boundary\n  `const ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary(React)`")};return n.createErrorBoundary=function(t){if(!t)throw Error("@bugsnag/plugin-react reference to `React` was undefined");return a(t,e)},n},e}();var r=function(e){for(var t=e.split(/\n/g),n="",r=0,a=t.length;r<a;r++)t[r].length&&(n+=(n.length?"\n":"")+t[r].trim());return n},a=function(e,a){return function(i){function s(e){var t;return(t=i.call(this,e)||this).state={error:null,info:null},t.handleClearError=t.handleClearError.bind(function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)),t}s.prototype=Object.create(i.prototype),s.prototype.constructor=s,n(s,i);var o=s.prototype;return o.handleClearError=function(){this.setState({error:null,info:null})},o.componentDidCatch=function(e,t){var n=this.props.onError,i=a.Event.create(e,!0,{severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},1);t&&t.componentStack&&(t.componentStack=r(t.componentStack)),i.addMetadata("react",t),a._notify(i,n),this.setState({error:e,info:t})},o.render=function(){if(this.state.error){var n=this.props.FallbackComponent;return n?e.createElement(n,t({},this.state,{clearError:this.handleClearError})):null}return this.props.children},s}(e.Component)};return e.formatComponentStack=r,e.default=e,e}()},63554:(e,t,n)=>{"use strict";n.d(t,{default:()=>a.a});var r=n(69243),a=n.n(r)},67853:e=>{e.exports=function(e){return"string"==typeof e&&/^c[a-z0-9]{20,32}$/.test(e)}},68101:(e,t,n)=>{var r=n(47558),a="object"==typeof window?window:self,i=0;for(var s in a)Object.hasOwnProperty.call(a,s)&&i++;var o=r(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+i.toString(36),4);e.exports=function(){return o}},69243:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return y},handleClientScriptLoad:function(){return p},initScriptLoader:function(){return m}});let r=n(88229),a=n(6966),i=n(95155),s=r._(n(47650)),o=a._(n(12115)),u=n(82830),l=n(42714),c=n(92374),d=new Map,f=new Set,h=e=>{if(s.default.preinit){e.forEach(e=>{s.default.preinit(e,{as:"style"})});return}{let t=document.head;e.forEach(e=>{let n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.appendChild(n)})}},g=e=>{let{src:t,id:n,onLoad:r=()=>{},onReady:a=null,dangerouslySetInnerHTML:i,children:s="",strategy:o="afterInteractive",onError:u,stylesheets:c}=e,g=n||t;if(g&&f.has(g))return;if(d.has(t)){f.add(g),d.get(t).then(r,u);return}let p=()=>{a&&a(),f.add(g)},m=document.createElement("script"),b=new Promise((e,t)=>{m.addEventListener("load",function(t){e(),r&&r.call(this,t),p()}),m.addEventListener("error",function(e){t(e)})}).catch(function(e){u&&u(e)});i?(m.innerHTML=i.__html||"",p()):s?(m.textContent="string"==typeof s?s:Array.isArray(s)?s.join(""):"",p()):t&&(m.src=t,d.set(t,b)),(0,l.setAttributesFromProps)(m,e),"worker"===o&&m.setAttribute("type","text/partytown"),m.setAttribute("data-nscript",o),c&&h(c),document.body.appendChild(m)};function p(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>g(e))}):g(e)}function m(e){e.forEach(p),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");f.add(t)})}function b(e){let{id:t,src:n="",onLoad:r=()=>{},onReady:a=null,strategy:l="afterInteractive",onError:d,stylesheets:h,...p}=e,{updateScripts:m,scripts:b,getIsSsr:y,appDir:v,nonce:S}=(0,o.useContext)(u.HeadManagerContext),w=(0,o.useRef)(!1);(0,o.useEffect)(()=>{let e=t||n;w.current||(a&&e&&f.has(e)&&a(),w.current=!0)},[a,t,n]);let _=(0,o.useRef)(!1);if((0,o.useEffect)(()=>{if(!_.current){if("afterInteractive"===l)g(e);else if("lazyOnload"===l)"complete"===document.readyState?(0,c.requestIdleCallback)(()=>g(e)):window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>g(e))});_.current=!0}},[e,l]),("beforeInteractive"===l||"worker"===l)&&(m?(b[l]=(b[l]||[]).concat([{id:t,src:n,onLoad:r,onReady:a,onError:d,...p}]),m(b)):y&&y()?f.add(t||n):y&&!y()&&g(e)),v){if(h&&h.forEach(e=>{s.default.preinit(e,{as:"style"})}),"beforeInteractive"===l)return n?(s.default.preload(n,p.integrity?{as:"script",integrity:p.integrity,nonce:S,crossOrigin:p.crossOrigin}:{as:"script",nonce:S,crossOrigin:p.crossOrigin}),(0,i.jsx)("script",{nonce:S,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([n,{...p,id:t}])+")"}})):(p.dangerouslySetInnerHTML&&(p.children=p.dangerouslySetInnerHTML.__html,delete p.dangerouslySetInnerHTML),(0,i.jsx)("script",{nonce:S,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([0,{...p,id:t}])+")"}}));"afterInteractive"===l&&n&&s.default.preload(n,p.integrity?{as:"script",integrity:p.integrity,nonce:S,crossOrigin:p.crossOrigin}:{as:"script",nonce:S,crossOrigin:p.crossOrigin})}return null}Object.defineProperty(b,"__nextScript",{value:!0});let y=b;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},73944:e=>{e.exports={style:{fontFamily:"'Figtree', 'Figtree Fallback'",fontStyle:"normal"},className:"__className_2ca027",variable:"__variable_2ca027"}},92374:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{cancelIdleCallback:function(){return r},requestIdleCallback:function(){return n}});let n="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},r="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}}]);